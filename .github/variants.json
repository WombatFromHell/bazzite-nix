{
  "_comment": "Image variant definitions for bazzite-nix builds",
  "_schema": {
    "variants": [
      {
        "name": "string - variant identifier (must be unique)",
        "description": "string - optional variant description",
        "base_image": "string - upstream image reference (registry:tag)",
        "build_script": "string - optional build script in build_files/, defaults to 'build.sh'",
        "suffix": "string - optional. If present, appends to repo name (e.g., '-cachyos'). If absent, uses base repo name.",
        "latest": "boolean - optional, defaults to false. Set to true to tag with 'latest'",
        "tags": "object - optional. Contains: branch (string), versioned (array of strings with {canonical} and {branch} placeholders)",
        "disabled": "boolean - optional, defaults to false. Set to true to skip this variant"
      }
    ]
  },
  "variants": [
    {
      "name": "stable",
      "base_image": "ghcr.io/ublue-os/bazzite:stable"
    },
    {
      "name": "testing",
      "base_image": "ghcr.io/ublue-os/bazzite:testing",
      "latest": true,
      "tags": {
        "versioned": ["{branch}", "{branch}-{canonical}"]
      }
    },
    {
      "name": "cachyos",
      "suffix": "-cachyos",
      "base_image": "ghcr.io/ublue-os/bazzite:testing",
      "description": "Builds the bazzite image with kernel from cachyos copr",
      "build_script": "build-cachyos.sh",
      "latest": true
    },
    {
      "name": "upstream",
      "suffix": "-upstream",
      "base_image": "ghcr.io/ublue-os/bazzite:testing",
      "description": "Builds the bazzite image with kernel from testing-updates",
      "build_script": "build-upstream.sh",
      "latest": true,
      "disabled": true
    },
    {
      "name": "nvidia-open",
      "suffix": "-nvidia-open",
      "base_image": "ghcr.io/ublue-os/bazzite-nvidia-open:stable",
      "latest": true,
      "disabled": true
    },
    {
      "name": "deck",
      "suffix": "-deck",
      "base_image": "ghcr.io/ublue-os/bazzite-deck:stable",
      "latest": true,
      "disabled": true
    }
  ]
}
